plugins:
  - rubocop-rspec
  - rubocop-rake

AllCops:
  TargetRubyVersion: 3.2
  NewCops: enable

Style/StringLiterals:
  EnforcedStyle: single_quotes

Style/StringLiteralsInInterpolation:
  EnforcedStyle: single_quotes

# Files that reopen ChromaWave to add require_relative or const_set calls
# are not missing documentation — the module is documented at its definition.
Style/Documentation:
  Exclude:
    - 'lib/chroma_wave/color.rb'
    - 'lib/chroma_wave/palette.rb'
    - 'lib/chroma_wave/pixel_format.rb'
    - 'lib/chroma_wave/framebuffer.rb'
    - 'lib/chroma_wave/canvas.rb'
    - 'lib/chroma_wave/layer.rb'

# Domain-standard short names used across graphics/geometry code.
# x0/y0/x1/y1 (line endpoints), xi/yi (midpoint iterators),
# sa/ea (start/end angles), sw (stroke width), lx/rx (left/right x).
Naming/MethodParameterName:
  AllowedNames:
    - r
    - g
    - b
    - a
    - x
    - y
    - w
    - h
    - c1
    - c2
    - cx
    - cy
    - rx
    - ry
    - sx
    - sy
    - dx
    - dy
    - ox
    - oy
    - x0
    - y0
    - x1
    - y1
    - xi
    - yi
    - sa
    - ea
    - sw
    - lx

# Graphics algorithms use coordinate pairs, dimensions, radii, and style
# kwargs (stroke, fill, stroke_width) that cannot be meaningfully reduced.
Metrics/ParameterLists:
  Max: 8

# Alpha compositing, drawing algorithms, and color distance formulas are
# inherently math-heavy. Raised from default 17 to accommodate these.
Metrics/AbcSize:
  Max: 25

# Drawing algorithms and hex parsing have inherent line counts.
# Raised from default 10 to reduce inline disable noise.
Metrics/MethodLength:
  Max: 20

# Primitives groups ~20 related rasterization algorithms in one module.
Metrics/ModuleLength:
  Max: 500

# Canvas wraps a single String buffer with RGBA operations.
Metrics/ClassLength:
  Max: 120

# Scanline and midpoint algorithms have inherent branching.
Metrics/CyclomaticComplexity:
  Max: 10

Metrics/PerceivedComplexity:
  Max: 10

# DriverConfig has 16 fields; tests that construct configs need many lets.
# The default of 5 is too low for struct-heavy integration tests.
RSpec/MultipleMemoizedHelpers:
  Max: 15

# Value type specs naturally verify multiple properties of a single object.
# Splitting each attribute into its own example adds noise without clarity.
RSpec/MultipleExpectations:
  Max: 8

# Allow 5-deep nesting for drawing primitive specs with shape/mode/edge contexts.
RSpec/NestedGroups:
  Max: 5

# Drawing and compositing specs need extra lines for setup and pixel verification.
RSpec/ExampleLength:
  Max: 10

# LruCache#fetch requires a block (unlike Hash#fetch) — the block form
# is not redundant, it's the computation that runs on cache miss.
Style/RedundantFetchBlock:
  Exclude:
    - 'spec/chroma_wave/palette_spec.rb'
